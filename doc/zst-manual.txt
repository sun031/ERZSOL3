zst-manual
   
   PLOTTING OF SYNTHETIC SEISMOGRAMS AND/OR TRAVEL TIMES
   _ WINDOWED OUTPUT

   written by B.L.N. Kennett
              R.S.E.S., Australian National University



   DESCRIPTION:

      This routine is designed to plot synthetic seismograms 
      generated by any of the local calculation routines and
      to allow plotting in a specified window with user 
      specified reduction velocity.

      In addition windowed travel time plots can be made, 
      either separately or superimposed on the seismograms.


   EXECUTION:

      zst-s  < input > output
        
        Input:
          command file:   
          (data files specified in inputs)
        Output:
           summary of run parameters
        Plot:
           on unit 8: zst.ps (Postscript file_


   INPUT:
        a)  A command file

        b)  A  data files (unformatted) in the zst format   

      
       For seismograms:
      
             nrange  -    number of distances
             ncomp   -    number of components for each distance
      
      ...for each component:   (nrange*ncomp records)
             range   -    distance in km
             azim    -    azimuth (degrees)
             ichar   -    component identifier (char*4)
             delt    -    time sampling interval
             ntim    -    number of time points
             pcal    -    reduction slowness for calculation
             tcal    -    start time of calculation (absolute)
             smax    -    maximum value of seismogram
             (seis(k),k=1,ntim)  -  time series
      ...end component loop
      
      
       For travel times:
      
            iray     -    number of ray segments
      
      ...for each ray segment 
            it       -    number of points
            (d(k),t(k),pq(k),k=1,it)
                     -    distance, time,  slowness
      ...end ray segment loop
      

  COMMAND FILES:

        The command files have a fixed syntax:
      
          commands are read with a2
          file names are read with a30
          titles, labels with a72
          numbers are read free formatted 

       for each instruction a brief explanation is given 
       in columns 41-80 for commands,numbers
       in columns 72-80 for titles etc

  COMMAND FILE CONSTRUCTION

  1.  Plot seismograms  (YE/NO)
  2.  Components to be plotted
       ZC,RC,TC    - individual components
       3C          - all three components
       PA,PV,PH,PT - Polarisation 
                     PA - vertical & horizontal plane
                     PV - vertical plane
                     PH - horizontal plane
                     PT - vertical vs tangential  
  3.  Number of seismogram files (<3)
  4.  For each file:
       -   name of file  
  5.  Number of distances to plot  
  6.  Reduction velocity for plot
  7.  Minimum reduced time for any seismogram
  8.  Width of Polarisation window (non zero implies component offset),
      Length of Polarisation window. 
  9.  Pen colours for the components (in order Z,R,T)
  10. Normalise each trace to ame maximum amplitude (YE/NO)
  11. Amplification factor
       amp, b1, b2, xr, eps
      with normalisation only amp used
      otherwise the scale factor for each seismogram is set to
       1000.0*amp*( b1 + b2*(xx/xr))**eps  at range xx
  
  12. Plot travel times (YE/NO)
  13. Number of files for travel times (< 3)
  14.  For each file:
    a)    name of file  
    b)    line or symbol mode (LI/SY)
    c)    pen colour 
  
  15.  Frame style  (FR - full frame, NL - no labels)
  16.  Font number from typset
  17.  Min, Max distance  rmin,rmax
  18.  Length of distance axis
  19.  Min, Max reduced time  trmin,trmax
  20.  Length of time axis
  21.  Spacing between large tic marks on distance, time axes
  22.  Spacing between small tic marks on distance, time axes
  23.  Number of decimals in labels for distance, time axes
  24.  Character size for text, title
  25.  Text string for distance axis
  26.  Text string for time axis
  27.  Text string for title



    SAMPLE COMMAND FILE (zst.ew1.cmd)

YE                               Plot seismograms? (YE/NO)    
3C				 [se] Plot components (ZC,RC,TC,3C,PA,PV,PH,PT)
1                                [se] Number of files for seismograms(<3)
ew1.tx.z                         [se] Name of file
10                               [se] Number of distances to plot
9999999.0                        [se] Reduction velocity for plot
0.0                              [se] Minimum reduced time for seismograms
0.8    0.1                       [se] Component offset, polarisation window
2 3 4                            [se] Pen colours for seismic components
NO                               [se] Trace normalisation? (YE/NO)
 0.125   0.0  1.0   10.0  1.5    [se] Amp,b1,b2,xr,eps | amp*(b1+b2/xr)**eps
NO                               Plot travel times? (YE/NO)
1                                [tt] number of files for travel times (<3)
/g/wkbj/fort.12                  [tt] Name of file
LI                               [tt] line or symbol mode (LI/SY)
3                                [tt] Pen colour
FR                               Frame: FR - full frame , NL - no labels
3                                [fr] font choice
   0.00    22.00                 [fr] Rmin, Rmax
   30.00                         [fr] length of R-axis
   0.00    8.00                  [fr] Trmin,Trmax
   20.00                         [fr] length of T-axis
   5.00     1.00                 [fr] Large Tic spacing R,T
   1.00     0.10                 [fr] Small Tic spacing R,T
    1       1                    [fr] # of dec. in label R,T
   0.4300   0.47500              [fr] character size text,title
Distance [km]                                                             X-txt
Time [s]                                                                  Y-txt
ew1 3C                                                                    Title


